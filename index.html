<html lang="en">
<head>
<meta charset="UTF-8">
<title>Resolution Swap ğŸ</title>

<style>
body {
  margin: 0;
  font-family: 'Comic Sans MS', 'Poppins', cursive;
  background: radial-gradient(circle, #fff7c2, #ffd84d);
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.game {
  width: 90%;
  max-width: 380px;
  background: #fff3a0;
  padding: 25px;
  border-radius: 18px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.25);
  text-align: center;
}

input {
  width: 90%;
  padding: 12px;
  font-size: 16px;
  border-radius: 10px;
  border: none;
}

button {
  margin-top: 15px;
  padding: 12px 25px;
  border-radius: 25px;
  border: none;
  background: #ffb703;
  font-size: 18px;
}

.chit {
  margin-top: 20px;
  padding: 20px;
  background: #fff;
  border-radius: 12px;
  display: none;
  animation: open 0.8s ease forwards;
}

@keyframes open {
  from { transform: scale(0); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
</style>
</head>

<body>

<div class="game">
  <h2>ğŸ Resolution Swap</h2>
  <input id="nameInput" placeholder="Enter your full name">
  <br>
  <button onclick="reveal()">Open Chit ğŸŸï¸</button>
  <div class="chit" id="result"></div>
</div>

<audio id="sound" src="chit-open.mp3"></audio>

<script>
// ================= GLOBAL FIXED SEED =================
const SEED = 20250101; // ğŸ”’ DO NOT CHANGE

// ================= SEEDED RANDOM =================
function seededRandom(seed) {
  let x = Math.sin(seed++) * 10000;
  return x - Math.floor(x);
}

// ================= SEEDED SHUFFLE =================
function seededShuffle(array, seed) {
  let arr = [...array];
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(seededRandom(seed + i) * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// ================= PARTICIPANTS =================
const participants = [
"AARUSH GUPTA","AASTHA ROHILA","ABHINAV RAJ SINGH","ABHISHEK KUMAR",
"ABHISHEK PRATAP SINGH","ABHISHEK VERMA","ADARSH MAURYA","ADIBA",
"ADITI SINGH","AHMAD RAHMANI","AJAY ARORA","AJAZ AHMAD KHAN",
"ALINA GARG","AMAAN ZUBERI","ANANY AGARWAL","ANCHIT GANGWAR",
"ANJU PATEL","ANKIT KUMAR PATEL","ANKITA AGARWAL","ANKITA MEENA",
"ANSH MISHRA","ANSHUMAN SINGH","ANUJ POONIA","ANUPAMA SINGH",
"ANUSHKA SHARMA","AREEBA SIDDIQUI","ASCHARYA NAGARJUN","ASHI GUPTA",
"ATUL TEOTIA","AYUSH","AZEEM","DEEKSHA SINGH","DEEPAK","DEVANSH",
"DHANANJAY GAUTAM","DHRUV YADAV","ESHA RAGHAV","EVAAN KHAN",
"FAISAL IQBAL","GARGI KAUSHIK","GARIMA","GLORIYA SINGH",
"GULSHAN KUMAR","HIMANSHU AGARWAL","HIMANSHU YADAV","HUMZA NEYAZ",
"HUZAIFA FARHEEN","ISHA PRITAM","ISHITA VATS","JAHANVI",
"JAHNAVI YADAV","KAJAL GERA","KANCHAN","KARTIK CHAUDHARY",
"KASHISH VATS","KHUSHI CHAUDHARY","KOMAL SINGH","KUSHAGRA BHARDWAJ",
"LAKSHAY","MAANAS VAID","MAHESH KUMAR SAINI","MAHIMA SINGH",
"MANSIJ AGARWAL","MEHVISH","MOH SARFRAJ","MOHAMMAD ALI",
"MOHAMMAD MUAZ MALIK","MOHAN CHAUDHARY","MOHD DAAIM","MOHD FAISAL",
"MOHD SHAHRAN","MOHD ZAID","MUBASHIRA ANSARI","MUHAMMAD AYAZ",
"MUSKAN KUMARI","NADISH RAJORA","NANCY ADHANA","NANDANI KALWAR",
"NIKHIL PATEL","NOOR AKMAL ANSARI","OJAS GUPTA","PAWAN SUTHAR",
"PRASHU HANUMAN NAYAK","PRATHAM AGARWAL","PRIYANSHU GOND",
"PRIYANSHU SHARMA","RAHUL GIRI","RANGOLI CHAUDHARY","RASHI SINGH",
"RAVI VARSHNEY","RIBHAV AGRAWAL","RISHABH SAINI","RITURAJ BHASKAR",
"RUDRA","RUDRANSH RASTOGI","SAHIL ZAMEER","SAIF AHMAD",
"SAKSHI CHAHAL","SAKSHI KUMARI","SANSKRITI SHARMA","SARIYA ASLAM",
"SATYAM RAI","SAUMYA AGARWAL","SAURABH YADAV","SHAHANSHAH VERMA",
"SHASHANK GUPTA","SHIKHAR AWASTHI","SHIVAM","SHIVAM KATARIYA",
"SHIVAM SINGH","SHIVANG SAINI","SHIVANI GUPTA","SHIVANI SINGH",
"SHIVANSH KUMAR","SHLOK KUMAR","SHREYA SINGH","SHRIEYA SINGH",
"SHRINIDHI PANDEY","SHRUTI","SHUBHAM MALIK","SNEHA DHIRAN",
"SRISHTI RANA","SRUSHTI JAIN","SUMAIRA AKBAR","SUNIL KUMAR",
"SUNIL KUMAR KUSHWAHA","SURBHI SHARMA","SURUCHI DEVI",
"TANISHKA SHARMA","TANU SAINI","TARUSHI RANA","TEJASVITA SINGH",
"TEJENDRA","UBAID CHAUDHARY","UTKARSH TIWARI","VANDNA",
"VANSH GAUTAM","VANSH SHARMA","VANSHIKA","VARNIKA",
"VENUS CHAUDHARY","VIDHI MISHRA","VIKASH PACHAR",
"VINEET SHARMA","VISHAL PATEL","VIVEK","YADUNANDAN",
"YASHASHVI GUPTA","YOGESH KUMAR","ZIA UR RAHMAN",
"PRATIKSHA CHOUDHARY","SAKSHAM ARYA"
];

// ================= FIXED PAIRS =================
const fixedPairs = {
 "SAUMYA AGARWAL": "MAANAS VAID"
};

// ================= GENERATE GLOBAL ASSIGNMENTS =================
function generateAssignments() {
  let result = {...fixedPairs};

  let givers = participants.filter(p => !(p in fixedPairs));
  let used = Object.values(fixedPairs);
  let receivers = participants.filter(p => !used.includes(p));

  receivers = seededShuffle(receivers, SEED);

  for (let i = 0; i < givers.length; i++) {
    if (givers[i] === receivers[i]) {
      [receivers[i], receivers[i+1]] = [receivers[i+1], receivers[i]];
    }
    result[givers[i]] = receivers[i];
  }
  return result;
}

const secretSanta = generateAssignments();

// ================= UI =================
function reveal() {
  const name = document.getElementById("nameInput").value.trim().toUpperCase();
  const box = document.getElementById("result");
  const sound = document.getElementById("sound");

  if (!secretSanta[name]) {
    box.style.display = "block";
    box.innerText = "Name not found ğŸ˜•";
    return;
  }

  sound.play();
  box.style.display = "block";
  box.innerHTML = "ğŸ‰ You got<br><b>" + secretSanta[name] + "</b>";
}
</script>

</body>
</html>
