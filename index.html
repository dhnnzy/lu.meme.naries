<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Resolution Swap</title>
</head>
<body>

<h2>Resolution Swap â€“ Secret Santa</h2>

<input id="nameInput" placeholder="Enter your name" />
<button onclick="reveal()">Reveal</button>

<h3 id="result"></h3>

<script>
// ================= PARTICIPANTS =================
const participants = [
"AARUSH GUPTA","AASTHA ROHILA","ABHINAV RAJ SINGH","ABHISHEK KUMAR",
"ABHISHEK PRATAP SINGH","ABHISHEK VERMA","ADARSH MAURYA","ADIBA",
"ADITI SINGH","AHMAD RAHMANI","AJAY ARORA","AJAZ AHMAD KHAN",
"ALINA GARG","AMAAN ZUBERI","ANANY AGARWAL","ANCHIT GANGWAR",
"ANJU PATEL","ANKIT KUMAR PATEL","ANKITA AGARWAL","ANKITA MEENA",
"ANSH MISHRA","ANSHUMAN SINGH","ANUJ POONIA","ANUPAMA SINGH",
"ANUSHKA SHARMA","AREEBA SIDDIQUI","ASCHARYA NAGARJUN","ASHI GUPTA",
"ATUL TEOTIA","AYUSH","AZEEM","DEEKSHA SINGH","DEEPAK","DEVANSH",
"DHANANJAY GAUTAM","DHRUV YADAV","ESHA RAGHAV","EVAAN KHAN",
"FAISAL IQBAL","GARGI KAUSHIK","GARIMA","GLORIYA SINGH",
"GULSHAN KUMAR","HIMANSHU AGARWAL","HIMANSHU YADAV","HUMZA NEYAZ",
"HUZAIFA FARHEEN","ISHA PRITAM","ISHITA VATS","JAHANVI",
"JAHNAVI YADAV","KAJAL GERA","KANCHAN","KARTIK CHAUDHARY",
"KASHISH VATS","KHUSHI CHAUDHARY","KOMAL SINGH",
"KUSHAGRA BHARDWAJ","LAKSHAY","MAANAS VAID",
"MAHESH KUMAR SAINI","MAHIMA SINGH","MANSIJ AGARWAL","MEHVISH",
"MOH SARFRAJ","MOHAMMAD ALI","MOHAMMAD MUAZ MALIK",
"MOHAN CHAUDHARY","MOHD DAAIM","MOHD FAISAL","MOHD SHAHRAN",
"MOHD ZAID","MUBASHIRA ANSARI","MUHAMMAD AYAZ","MUSKAN KUMARI",
"NADISH RAJORA","NANCY ADHANA","NANDANI KALWAR","NIKHIL PATEL",
"NOOR AKMAL ANSARI","OJAS GUPTA","PAWAN SUTHAR",
"PRASHU HANUMAN NAYAK","PRATHAM AGARWAL","PRIYANSHU GOND",
"PRIYANSHU SHARMA","RAHUL GIRI","RANGOLI CHAUDHARY","RASHI SINGH",
"RAVI VARSHNEY","RIBHAV AGRAWAL","RISHABH SAINI","RITURAJ BHASKAR",
"RUDRA","RUDRANSH RASTOGI","SAHIL ZAMEER","SAIF AHMAD",
"SAKSHI CHAHAL","SAKSHI KUMARI","SANSKRITI SHARMA","SARIYA ASLAM",
"SATYAM RAI","SAUMYA AGARWAL","SAURABH YADAV","SHAHANSHAH VERMA",
"SHASHANK GUPTA","SHIKHAR AWASTHI","SHIVAM","SHIVAM KATARIYA",
"SHIVAM SINGH","SHIVANG SAINI","SHIVANI GUPTA","SHIVANI SINGH",
"SHIVANSH KUMAR","SHLOK KUMAR","SHREYA SINGH","SHRIEYA SINGH",
"SHRINIDHI PANDEY","SHRUTI","SHUBHAM MALIK","SNEHA DHIRAN",
"SRISHTI RANA","SRUSHTI JAIN","SUMAIRA AKBAR","SUNIL KUMAR",
"SUNIL KUMAR KUSHWAHA","SURBHI SHARMA","SURUCHI DEVI",
"TANISHKA SHARMA","TANU SAINI","TARUSHI RANA","TEJASVITA SINGH",
"TEJENDRA","UBAID CHAUDHARY","UTKARSH TIWARI","VANDNA",
"VANSH GAUTAM","VANSH SHARMA","VANSHIKA","VARNIKA",
"VENUS CHAUDHARY","VIDHI MISHRA","VIKASH PACHAR",
"VINEET SHARMA","VISHAL PATEL","VIVEK","YADUNANDAN",
"YASHASHVI GUPTA","YOGESH KUMAR","ZIA UR RAHMAN",
"PRATIKSHA CHOUDHARY","SAKSHAM ARYA"
];

// ================= FIXED PAIRS =================
const fixedPairs = {
  "SHREYA SINGH": "SHIVAM SINGH",
  "SAUMYA AGARWAL": "MAANAS VAID"
};

// ================= SHUFFLE =================
function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

// ================= ASSIGNMENT =================
function generateAssignments() {
  let assignments = {...fixedPairs};

  let freeGivers = participants.filter(n => !(n in fixedPairs));
  let usedReceivers = Object.values(fixedPairs);
  let freeReceivers = participants.filter(n => !usedReceivers.includes(n));

  let valid = false;
  while (!valid) {
    shuffle(freeReceivers);
    valid = true;
    for (let i = 0; i < freeGivers.length; i++) {
      if (freeGivers[i] === freeReceivers[i]) {
        valid = false;
        break;
      }
    }
  }

  for (let i = 0; i < freeGivers.length; i++) {
    assignments[freeGivers[i]] = freeReceivers[i];
  }

  return assignments;
}

const secretSanta = generateAssignments();

// ================= UI =================
function reveal() {
  const name = document.getElementById("nameInput").value.trim().toUpperCase();
  const result = document.getElementById("result");

  if (!secretSanta[name]) {
    result.innerText = "Name not found!";
    return;
  }

  result.innerText = "ðŸŽ You got: " + secretSanta[name];
}
</script>

</body>
</html>
